<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
  <h1>a-list</h1>
  <nav>
    <a href="#features">Features</a>
    <a href="#about">About</a>
  </nav>
</header>
<main>
<section id="features" class="features">
  <h2>Why a-list?</h2>
  <ul>
    <li>Easy to use</li>
    <li>Access anywhere</li>
    <li>Stay organized</li>
  </ul>
</section>

  <section id="about" class="about">
    <h2>About</h2>
    <p>a-list helps you manage everyday tasks with simple digital lists.</p>
  </section>
</main>

  <div class="auth-container">
    <h2>Register</h2>
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">
  <button onclick="register()">Register</button>

  <h2>Login</h2>
  <button onclick="login()">Login</button>
  <button onclick="logout()">Logout</button>
  </div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBqpTk9c5477Vy3giTwmHF6K1ToUx92v0A",
    authDomain: "a-list-f4ec8.firebaseapp.com",
    projectId: "a-list-f4ec8",
    storageBucket: "a-list-f4ec8.firebasestorage.app",
    messagingSenderId: "290868525605",
    appId: "1:290868525605:web:2db75f925f3fb414b95dcc"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.auth = auth;
  window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
  window.signInWithEmailAndPassword = signInWithEmailAndPassword;
  window.signOut = signOut;
  window.onAuthStateChanged = onAuthStateChanged;
</script>

<script>
function register() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  createUserWithEmailAndPassword(auth, email, password)
    .then(() => alert("User successfully registered"))
    .catch(error => alert(error.message));
}

function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  signInWithEmailAndPassword(auth, email, password)
    .then(() => alert("Successfully logged in"))
    .catch(error => alert(error.message));
}

function logout() {
  signOut(auth)
    .then(() => alert("Successfully logged out"));
}
</script>

<script>
onAuthStateChanged(auth, (user) => {
  if (user) {
    console.log("User is logged in");
  } else {
    alert("You are not authorized!");
  }
});
</script>

</body>
<script src="js/main.js"></script>
</html>